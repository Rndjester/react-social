(this.webpackJsonpitkama=this.webpackJsonpitkama||[]).push([[3],{287:function(n,e,t){"use strict";t.d(e,"a",(function(){return o}));var r=t(85);function o(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(n)){var t=[],r=!0,o=!1,i=void 0;try{for(var s,a=n[Symbol.iterator]();!(r=(s=a.next()).done)&&(t.push(s.value),!e||t.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return t}}(n,e)||Object(r.a)(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},289:function(n,e,t){},291:function(n,e,t){"use strict";t.r(e);var r=t(47),o=t(48),i=t(50),s=t(49),a=t(1),l=t(17),c=t(122),u=t(0),f=t(13),p=function(n){return Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:"friends__item",children:[Object(a.jsx)("div",{className:"friends__avatar",children:n.info.photos.small?Object(a.jsx)("img",{alt:"Avatar",src:n.info.photos.small}):Object(a.jsx)("img",{alt:"Avatar",src:"https://lh3.googleusercontent.com/proxy/cIMhuzerSlfTrrLU6ZbUWHPr0OKxcWzQ2l1eNNfRI0ZpEmAlGu5HJbQ1d7Lqnw-TpYWcAW5ygXE5gye51GeC5KhzUkB10_o4d2aV6wP3sdAOs5O1xyiNKxoKKYmvyND533v94g"})}),Object(a.jsx)("div",{className:"friends__top",children:Object(a.jsx)("div",{className:"friends__name",children:n.info.name})}),Object(a.jsxs)("div",{className:"friends__button-wrap",children:[Object(a.jsx)(f.b,{to:"/profile/"+n.info.id,children:Object(a.jsx)("div",{className:"friends__button-profile button",children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})}),n.info.follow?Object(a.jsx)("button",{disabled:n.followingProgress.some((function(e){return e===n.info.id})),onClick:function(){n.unfollowTS(n.info.id)},className:"button friends__follow active",children:"\u041e\u0442\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"}):Object(a.jsx)("button",{disabled:n.followingProgress.some((function(e){return e===n.info.id})),onClick:function(){n.followTS(n.info.id)},className:"button friends__follow",children:"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u0441\u044f"})]})]})})},d=t(287),g=function(n){for(var e=n.totalUsersCount,t=n.pageSize,r=n.onSetPage,o=n.currentPage,i=n.portionSize,s=Math.ceil(e/t),l=[],c=1;c<=s;c++)l.push(c);var f=Math.ceil(s/t),p=Object(u.useState)(1),g=Object(d.a)(p,2),h=g[0],b=g[1],j=(h-1)*i+1,v=h*i;return Object(a.jsxs)("div",{className:"friends__pagination",children:[h>1&&Object(a.jsx)("div",{className:"friends__pagination-button controll",onClick:function(){return b(h-1)},children:"\u041d\u0430\u0437\u0430\u0434"}),l.filter((function(n){return console.log(j,v),n>=j&&n<=v})).map((function(n){return Object(a.jsx)("div",{onClick:function(){r(n)},className:o===n?"friends__pagination-button active":"friends__pagination-button",children:n})})),f>h&&Object(a.jsx)("div",{className:"friends__pagination-button controll",onClick:function(){return b(h+1)},children:"\u0412\u043f\u0435\u0440\u0435\u0434"})]})},h=function(n){return Object(a.jsxs)("div",{className:"friends__wrap",children:[Object(a.jsx)(g,{currentPage:n.currentPage,portionSize:n.portionSize,onSetPage:n.onSetPage,totalUsersCount:n.totalUsersCount,pageSize:n.pageSize}),Object(a.jsx)("div",{className:"friends__grid",children:n.users.map((function(e){return Object(a.jsx)(p,{followingProgress:n.followingProgress,followTS:n.followTS,unfollowTS:n.unfollowTS,info:e})}))}),Object(a.jsx)("div",{children:Object(a.jsx)("button",{className:"friends__add",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439"})})]})},b=(t(289),t(80));function j(n,e){return n===e}function v(n,e,t){if(null===e||null===t||e.length!==t.length)return!1;for(var r=e.length,o=0;o<r;o++)if(!n(e[o],t[o]))return!1;return!0}function m(n){var e=Array.isArray(n[0])?n[0]:n;if(!e.every((function(n){return"function"===typeof n}))){var t=e.map((function(n){return typeof n})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+t+"]")}return e}var S=function(n){for(var e=arguments.length,t=Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return function(){for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];var i=0,s=r.pop(),a=m(r),l=n.apply(void 0,[function(){return i++,s.apply(null,arguments)}].concat(t)),c=n((function(){for(var n=[],e=a.length,t=0;t<e;t++)n.push(a[t].apply(null,arguments));return l.apply(null,n)}));return c.resultFunc=s,c.dependencies=a,c.recomputations=function(){return i},c.resetRecomputations=function(){return i=0},c}}((function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:j,t=null,r=null;return function(){return v(e,t,arguments)||(r=n.apply(null,arguments)),t=arguments,r}}));var O=S((function(n){return console.log(n.friendsPage),n.friendsPage.users}),(function(n){return n.filter((function(n){return!0}))})),w=function(n){return n.friendsPage.pageSize},y=function(n){return n.friendsPage.portionSize},_=function(n){return n.friendsPage.totalUsersCount},P=function(n){return n.friendsPage.currentPage},x=function(n){return n.friendsPage.isFetching},z=function(n){return n.friendsPage.followingProgress},N=function(n){Object(i.a)(t,n);var e=Object(s.a)(t);function t(){var n;Object(r.a)(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(n=e.call.apply(e,[this].concat(i))).onSetPage=function(e){var t=n.props.pageSize;n.props.getUsersTS(e,t)},n}return Object(o.a)(t,[{key:"componentDidMount",value:function(){var n=this.props,e=n.currentPage,t=n.pageSize;this.props.getUsersTS(e,t),console.log(this.props)}},{key:"render",value:function(){return Object(a.jsxs)(a.Fragment,{children:[this.props.isFetching?Object(a.jsx)(b.a,{}):null,Object(a.jsx)(h,{onSetPage:this.onSetPage,totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,users:this.props.users,isFetching:this.props.isFetching,unfollowTS:this.props.unfollowTS,followTS:this.props.followTS,followingProgress:this.props.followingProgress,portionSize:this.props.portionSize})]})}}]),t}(u.Component),T={getUsersTS:c.c,unfollowTS:c.d,followTS:c.b},C=Object(l.b)((function(n){return{portionSize:y(n),users:O(n),pageSize:w(n),totalUsersCount:_(n),currentPage:P(n),isFetching:x(n),followingProgress:z(n)}}),T)(N);e.default=C}}]);
//# sourceMappingURL=3.8b2622c9.chunk.js.map